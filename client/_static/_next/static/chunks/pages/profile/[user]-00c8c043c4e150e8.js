(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{99852:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[user]",function(){return n(9373)}])},17339:function(e,t,n){"use strict";n.d(t,{P:function(){return u},w:function(){return c}});var r=n(34051),a=n.n(r),o=n(9669),i=n.n(o);function s(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)}))}}var u=function(){var e=l(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=5;break;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:return e.next=7,i().post("https://api.productaffair.com/api/follow",t,{withCredentials:!0});case 7:return r=e.sent,e.abrupt("return",r.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=l(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().post("https://api.productaffair.com/api/unfollow",t,{withCredentials:!0});case 2:n=e.sent,e.next=8;break;case 6:return r=e.sent,e.abrupt("return",r.data);case 8:return e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9373:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ze}});var r=n(85893),a=n(67294),o=n(11163),i=n(18056),s=n.n(i),l=n(36795),u=n.n(l),c=function(e){var t=e.username.username;return(0,r.jsx)("div",{className:u().username,children:(0,r.jsx)("span",{className:u().username__text,children:t})})},f=n(20528),_=n.n(f),d=function(e){var t=e.followersCount;return(0,r.jsx)("div",{className:_().followers,children:(0,r.jsxs)("span",{className:_().followers__text,children:[t.followers," Followers"]})})},m=n(19210),p=n.n(m),h=n(3471),b=n(17339),v=function(e){var t=e.isFollowed,n=e.isAuthor,i=e.user,s=(0,o.useRouter)(),l=(0,a.useState)(!1),u=l[0],c=l[1],f=(0,a.useState)(!1),_=(f[0],f[1],(0,h.useQueryClient)(),(0,h.useMutation)({mutationFn:function(e){var t={userId:e};return(0,b.P)(t)},onSuccess:function(e){"Following"===e.data&&c(!0)},onError:function(){s.push("/404")}})),d=(0,h.useMutation)({mutationFn:function(e){var t={userId:e};return(0,b.w)(t)},onSuccess:function(e){"!Following"===e.data&&c(!1)},onError:function(){s.push("/404")}});return(0,a.useEffect)((function(){return"Following"===t&&"!Author"===n?c(!0):"!Following"===t&&"!Author"===n||"Guest"===t&&"Guest"===n?c(!1):void 0}),[t]),(0,r.jsx)("div",{className:p()["follow-btn"],children:!1===u&&"!Author"===n||!1===u&&"Guest"===n?(0,r.jsx)("button",{type:"button",className:p()["follow-btn__btn"],onClick:function(){"Guest"===n&&s.push("/login"),"!Author"===n&&_.mutate(i)},children:"Follow"}):!0===u&&"!Author"===n?(0,r.jsx)("button",{type:"button",className:p()["unfollow-btn__btn"],onClick:function(){"Guest"===n&&s.push("/login"),"!Author"===n&&d.mutate(i)},children:"Following"}):(0,r.jsx)(r.Fragment,{})})},x=n(93400),g=n.n(x),w=function(e){var t=e.profilePic;return void 0===t.profileImage?(0,r.jsx)("div",{className:g().profile,children:(0,r.jsx)("div",{className:g().profile__tile})}):(0,r.jsx)("div",{className:g().profile,children:(0,r.jsx)("div",{className:g().profile__tile,children:(0,r.jsx)("img",{src:t.profileImage,width:500,height:500,className:g().profile__image})})})},j=n(78195),y=n.n(j),P=function(e){var t=e.about;return(0,r.jsx)("div",{className:y().about,children:'""'===t.about?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("span",{className:y().about__text,children:t.about})})},N=n(34051),k=n.n(N),M=n(55162),C=n(74231),I=n(95496),F=n(87536),S=n(9688),E=n(83321),A=n(9669),T=n.n(A);function L(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,s,"next",e)}function s(e){L(o,r,a,i,s,"throw",e)}i(void 0)}))}}var Z=function(){var e=O(k().mark((function e(t){var n,r,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.queryKey,e.next=6;break;case 4:return r=e.sent,e.abrupt("return",r.data.data);case 6:return e.next=8,T().get("https://api.productaffair.com/api/profileinfo?user=".concat(n[1]),{withCredentials:!0});case 8:return a=e.sent,e.abrupt("return",a.data.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=O(k().mark((function e(t){var n,r,a,o,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.queryKey,r=t.pageParam,a=void 0===r?0:r,e.next=6;break;case 4:return o=e.sent,e.abrupt("return",o.data.data);case 6:return e.next=8,T().get("https://api.productaffair.com/api/profile?user=".concat(n[1],"&page=").concat(a),{withCredentials:!0});case 8:return i=e.sent,e.abrupt("return",i.data.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=O(k().mark((function e(t){var n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=5;break;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:return e.next=7,T().post("https://api.productaffair.com/api/profileinfo?user=".concat(t.userId),t.formData,{withCredentials:!0});case 7:return r=e.sent,e.abrupt("return",r.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n(36590),B=n.n(R),G=n(67141),z=n(40221),W=n(9581),K=n(31425),J=n(83913);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function V(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=function(e){var t,n=e.files,o=e.setFiles,i=e.setCroppedImage,s=e.setUploadErr,l=e.croppedImage,u=e.setOpenCrop,c=(0,a.useState)({x:0,y:0}),f=c[0],_=c[1],d=(0,a.useState)(1),m=d[0],p=d[1],h=(0,a.useState)(0),b=h[0],v=h[1],x=(0,a.useState)(null),g=x[0],w=x[1],j=function(){var e,t=(e=k().mark((function e(){var t,r,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,G.ZP)(n[0].preview,g,b);case 3:return t=e.sent.file,r={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.next=7,(0,z.Z)(t,r);case 7:a=e.sent,i([]),i((function(e){return e.length<2&&s(""),e.length>1&&s("Sobra kana boy..."),e.length>0?V(e):[a]}),[l.length]),o([]),u(!1),w(g),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,s,"next",e)}function s(e){q(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.Z,{sx:{background:"#333",position:"relative",height:"250px",width:"100%",aspectRatio:"1 / 1",minWidth:{sm:250},overflow:"auto",display:"flex",justifyContent:"center"},dividers:!0,children:(0,r.jsx)(J.ZP,{image:null===(t=n[0])||void 0===t?void 0:t.preview,crop:f,zoom:m,rotation:b,onCropChange:_,onZoomChange:p,onRotationChange:v,aspect:1,onCropComplete:function(e,t){return w(t)}})}),(0,r.jsxs)(K.Z,{sx:{flexDirection:"row",mx:3,my:2,justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(E.Z,{variant:"outlined",onClick:function(){o([]),u(!1)},children:"Back"}),(0,r.jsx)(E.Z,{variant:"contained",onClick:j,children:"Crop"})]})]})};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,s,"next",e)}function s(e){H(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ee(e,t,n[t])}))}return e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}var oe=function(e){var t=e.values,n=(0,h.useQueryClient)(),i=(0,o.useRouter)(),s=(0,h.useMutation)({mutationFn:function(e){return D(e)},onSuccess:function(e){n.invalidateQueries({queryKey:["getProfileInfo",e.data.userId]}),i.push("/profile/".concat(e.data.userId)),p(!1)},onError:function(){i.push("/")}}),l=(s.data,s.mutate),u=(s.isLoading,s.isError,C.Ry().shape({about:C.Z_().min(1).max(160).required().defined()}).defined()),c=(0,F.cI)({mode:"onChange",resolver:(0,I.X)(u)}),f=c.register,_=c.handleSubmit,d=(c.formState.errors,ne(a.useState(!1),2)),m=d[0],p=d[1],b=ne(a.useState(!1),2),v=b[0],x=b[1],g=(0,a.useState)(0),w=g[0],j=g[1],y=(0,a.useState)([]),P=y[0],N=y[1],A=(0,a.useState)([]),T=A[0],L=A[1],O=(0,a.useState)(""),Z=(O[0],O[1]),U=(0,a.useState)(!1),R=(U[0],U[1]),G=(0,a.useCallback)((function(e,t){var n=e.map((function(e){return{preview:URL.createObjectURL(e),file:e}}));if(0===n.length)return t.forEach((function(e){e.errors.forEach((function(e){switch(e.code){case"file-too-large":return Z("File is too large.");case"file-invalid-type":return Z("Invalid file type.");case"too-many-files":return Z("Upload 1 image at a time.");default:return null}}))}));N((function(e){return e.length<2&&0===t.length&&Z(""),e.length>=2&&Z("Sobra kana boy... only 1 item accepted"),e.length>0?re(e):re(n)})),x(!0)}),[P.length]),z=(0,M.uI)({onDrop:G,maxFiles:1,maxSize:1e7,accept:{"image/jpeg":[".jpeg"],"image/jpg":[".jpg"],"image/png":[".png"],"image/webp":[".webp"]},noKeyboard:!0}),W=z.getRootProps,K=z.getInputProps,J=function(){var e=$(k().mark((function e(n){var r,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new FormData,0!==T.length){e.next=5;break}Z("Upload an image..."),e.next=10;break;case 5:return r.append("about",n.about),r.append("image",T[0],"cropprofile.jpeg"),a={userId:t.userId,formData:r},e.next=10,l(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=_(function(){var e=$(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==T.length){e.next=4;break}Z("Upload an image..."),e.next=6;break;case 4:return e.next=6,J(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){R(!0)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z,{onClick:function(){return p(!0)},variant:"outlined",sx:{borderColor:"var(--blue)",color:"var(--blue)",border:"u.toRem(50)"},children:"edit profile"}),(0,r.jsx)(S.Z,{open:m,onClose:function(){L([]),N([]),p(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)("form",{onSubmit:Q,encType:"multipart/formdata",className:B()["modal-form"],children:[v?(0,r.jsx)(X,{files:P,setFiles:N,setCroppedImage:L,setUploadErr:Z,croppedImage:T,setOpenCrop:x}):(0,r.jsxs)("div",{className:B()["modal-form__form"],children:[(0,r.jsx)("div",{className:B()["modal-form__profile-pic"],children:(0,r.jsx)("div",{className:B()["modal-form__profile"],children:(0,r.jsxs)("div",te({className:B()["modal-form__tile"]},W(),{children:[(null===T||void 0===T?void 0:T.length)>0&&(null===T||void 0===T?void 0:T.map((function(e){var t=URL.createObjectURL(e);return(0,r.jsx)("img",{src:t,className:B()["modal-form__img-preview"],alt:"img"},t)}))),(0,r.jsx)("input",te({type:"file",className:B()["dropzone-input"]},K()))]}))})}),(0,r.jsxs)("div",{className:B()["modal-form__about"],children:[(0,r.jsx)("div",{className:B()["modal-form__container"],children:(0,r.jsx)("span",{className:B()["modal-form__about-text"],children:"About"})}),(0,r.jsxs)("div",{className:B()["modal-form__about-input-container"],children:[(0,r.jsx)("textarea",te({className:B()["modal-form__about-textarea"]},f("about"),{autoComplete:"off",role:"presentation",onChange:function(e){j(e.target.value.length)},maxLength:160})),(0,r.jsx)("div",{className:B()["modal-form__input-limit-container"],children:(0,r.jsxs)("p",{className:B()["modal-form__input-limit-text-container"],children:[w," / 160"]})})]})]})]}),(0,r.jsx)("div",{className:B()["upload-btn-con"],children:v?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(E.Z,{size:"large",variant:"contained",type:"submit",children:"Upload"})})]})})]})},ie=n(31812),se=n(98456),le=n(9008),ue=n.n(le),ce=n(4298),fe=n.n(ce),_e=a.memo((function(e){var t=e.user,n=(0,h.useQuery)(["getProfileInfo",t],Z),a=n.data,o=n.isLoading,i=(n.isError,n.status);return"loading"===i?(0,r.jsx)("div",{className:s()["loading-container"],children:(0,r.jsx)(se.Z,{})}):"error"===i?(0,r.jsx)("div",{className:s()[""]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ue(),{children:[(0,r.jsxs)("title",{children:["Productaffair - ",a.username]}),(0,r.jsx)("meta",{content:"width=device-width,maximum-scale=1.0,initial-scale=1.0,minimum-scale=0.9,user-scalable=no",name:"viewport"}),(0,r.jsx)("meta",{property:"description",name:"description",content:"Discover the best products on the market. Share your product experiences, upload images and make a review.","data-app":"true"}),(0,r.jsx)("meta",{property:"og:description",name:"og:description",content:"Discover the best products on the market. Share your product experiences, upload images and make a review.","data-app":"true"}),(0,r.jsx)("meta",{property:"og:type",name:"og:type",content:"website","data-app":"true"}),(0,r.jsx)("meta",{name:"google",content:"notranslate"}),(0,r.jsx)("meta",{name:"application-name",content:"Productaffair"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Productaffair"}),(0,r.jsx)("meta",{property:"og:url",content:"https://wwww.productaffair.com"}),(0,r.jsx)("meta",{property:"og:locale",content:"en_US"})]}),(0,r.jsx)(fe(),{src:"https://www.googletagmanager.com/gtag/js?id=G-2FJZ116LFW",strategy:"afterInteractive"}),(0,r.jsx)(fe(),{id:"google-analytics",strategy:"afterInteractive",children:"window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'G-2FJZ116LFW');"})]}),(0,r.jsxs)("div",{className:s()["profile-info"],children:[(0,r.jsx)("div",{className:s()["profile-info__photo"],children:(0,r.jsx)(w,{profilePic:a})}),(0,r.jsx)("div",{className:s()["profile-info__username"],children:(0,r.jsx)(c,{username:a})}),(0,r.jsx)("div",{className:s()["profile-info__followers"],children:(0,r.jsx)(d,{followersCount:a})}),(0,r.jsx)("div",{className:s()["profile-info__follow-btn"],children:"!Author"===a.isAuthor&&"!Following"===a.isFollowing||"Guest"===a.isAuthor&&"Guest"===a.isFollowing||"!Author"===a.isAuthor&&"Following"===a.isFollowing?(0,r.jsx)(v,{user:a.userId,isFollowed:a.isFollowing,isAuthor:a.isAuthor}):o?(0,r.jsx)(ie.Z,{loading:!0}):(0,r.jsx)(oe,{values:a})}),(0,r.jsx)("div",{className:s()["profile-info__about"],children:(0,r.jsx)(P,{about:a})})]})]})})),de=n(34009),me=n.n(de),pe=n(24395),he=n.n(pe),be=function(e){var t=e.postTitle;return(0,r.jsx)("div",{className:he()["post-title"],children:(0,r.jsx)("p",{className:he()["post-title__link"],children:t})})},ve=n(27484),xe=n.n(ve),ge=n(70178),we=n.n(ge),je=n(29387),ye=n.n(je),Pe=n(10285),Ne=n.n(Pe),ke=n(97233),Me=n.n(ke),Ce=function(e){var t=e.dateCreated;xe().extend(we()),xe().extend(ye()),xe().extend(Ne());var n=xe().tz.guess(),a=xe()(t).tz(n).format("MMM DD, YYYY");return(0,r.jsx)("div",{className:Me().date,children:(0,r.jsx)("span",{className:Me().date__text,children:a})})},Ie=n(52966),Fe=n.n(Ie),Se=function(e){var t,n=e.likesCount,a=Number(n),o=(t=a,Math.abs(t)<1e3?Math.sign(t)*t:Math.abs(t)>999&&Math.abs(t)<1e6?Math.sign(t)*Math.round(Math.abs(t)/1e3)+"K":Math.abs(t)>999999&&Math.abs(t)<1e9?Math.sign(t)*Math.round(Math.abs(t)/1e6)+"M":Math.abs(t)>999999999&&Math.abs(t)<1e12?Math.sign(t)*Math.round(Math.abs(t)/1e9)+"B":Math.sign(t)*Math.round(Math.abs(t)/1e12)+"T");return(0,r.jsx)("div",{className:Fe().likes,children:(0,r.jsxs)("span",{className:Fe().likes__text,children:[(0,r.jsx)("span",{className:Fe()["likes__text-data"],children:o})," Likes"]})})},Ee=n(6573),Ae=n.n(Ee),Te=function(e){var t,n=e.viewsCount,a=Number(n),o=(t=a,Math.abs(t)<1e3?Math.sign(t)*t:Math.abs(t)>9999&&Math.abs(t)<1e6?Math.sign(t)*Math.round(Math.abs(t)/1e3)+"K":Math.abs(t)>999999&&Math.abs(t)<1e9?Math.sign(t)*Math.round(Math.abs(t)/1e6)+"M":Math.abs(t)>999999999&&Math.abs(t)<1e12?Math.sign(t)*Math.round(Math.abs(t)/1e9)+"B":Math.sign(t)*Math.round(Math.abs(t)/1e12)+"T");return(0,r.jsx)("div",{className:Ae().views,children:(0,r.jsxs)("span",{className:Ae().views__text,children:[(0,r.jsx)("span",{className:Ae()["views__text-data"],children:o})," Views"]})})},Le=n(4313),Oe=n.n(Le),Ze=function(e){var t=e.storeName;return(0,r.jsx)("div",{className:Oe().storeName,children:(0,r.jsx)("span",{className:Oe().storeName__text,children:t})})},Ue=function(e){var t=e.values;return(0,r.jsx)("div",{className:me()["profile-thumbnail"],children:(0,r.jsxs)("a",{href:"https://www.productaffair.com/post/".concat(t.id),className:me().thumbnail__link,children:[(0,r.jsxs)("div",{className:me()["profile-thumbnail__top"],children:[(0,r.jsx)(Ze,{storeName:t.store_name}),(0,r.jsxs)("div",{className:me()["profile-thumbnail__meta-data"],children:[(0,r.jsx)(Se,{likesCount:t.likes_count}),(0,r.jsx)(Te,{viewsCount:t.views_count}),(0,r.jsx)(Ce,{dateCreated:t.date_created})]}),(0,r.jsx)(be,{postTitle:t.title})]}),(0,r.jsx)("div",{className:me()["profile-thumbnail__mid"],children:(0,r.jsx)("img",{className:me()["profile-thumbnail__image"],src:t.images[0],width:500,height:500,alt:t.title})})]})})},De=n(63051),Re=n.n(De),Be=n(58533),Ge=a.memo((function(){var e=(0,o.useRouter)(),t=e.query.user,n=(0,h.useInfiniteQuery)({queryKey:["getProfilePosts",t],queryFn:U,getNextPageParam:function(e,t){if(e)return t.length}}),a=n.data,i=n.fetchNextPage,s=n.hasNextPage,l=n.status;return"error"===l&&e.push("/404"),"loading"===l?(0,r.jsx)("div",{className:Re()["loading-container"],children:(0,r.jsx)(se.Z,{})}):(0,r.jsx)("main",{className:Re()["profile-main"],children:(0,r.jsxs)("section",{className:Re()["profile-main__section"],children:[(0,r.jsx)(_e,{user:t}),(0,r.jsx)(Be.Z,{className:Re()["profile-main__posts"],dataLength:null===a||void 0===a?void 0:a.pages.length,next:function(){return i()},hasMore:s,loader:(0,r.jsx)(r.Fragment,{}),children:"No posts are available"===a.pages[0]?(0,r.jsx)("div",{className:Re()["no-posts"],children:"No Posts are available"}):null===a||void 0===a?void 0:a.pages.map((function(e){return null===e||void 0===e?void 0:e.map((function(e){return(0,r.jsx)(Ue,{values:e},e.id)}))}))})]})})})),ze=function(){return(0,r.jsx)(Ge,{})}},67141:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var r=n(34051),a=n.n(r);function o(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))}}var s=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.setAttribute("crossOrigin","anonymous"),r.src=e}))};function l(e){return e*Math.PI/180}function u(e,t,n){var r=l(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function c(e,t){return f.apply(this,arguments)}function f(){return f=i(a().mark((function e(t,n){var r,o,i,c,f,_,d,m,p,h,b=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:0,o=b.length>3&&void 0!==b[3]?b[3]:{horizontal:!1,vertical:!1},e.next=3,s(t);case 3:if(i=e.sent,c=document.createElement("canvas"),f=c.getContext("2d")){e.next=8;break}return e.abrupt("return",null);case 8:return _=l(r),d=u(i.width,i.height,r),m=d.width,p=d.height,c.width=m,c.height=p,f.translate(m/2,p/2),f.rotate(_),f.scale(o.horizontal?-1:1,o.vertical?-1:1),f.translate(-i.width/2,-i.height/2),f.drawImage(i,0,0),h=f.getImageData(n.x,n.y,n.width,n.height),c.width=n.width,c.height=n.height,f.putImageData(h,0,0),e.abrupt("return",new Promise((function(e,t){c.toBlob((function(t){e({file:t,url:URL.createObjectURL(t)})}),"image/jpeg")})));case 22:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},36590:function(e){e.exports={"modal-form":"ProfileEdit_modal-form__IP8YX","modal-form__form":"ProfileEdit_modal-form__form__11ejB","modal-form__profile-pic":"ProfileEdit_modal-form__profile-pic__vR2lJ","modal-form__profile":"ProfileEdit_modal-form__profile__IY3GX","modal-form__tile":"ProfileEdit_modal-form__tile__3P2dk","modal-form__img-preview":"ProfileEdit_modal-form__img-preview__KviWb","modal-form__about":"ProfileEdit_modal-form__about__WIbhJ","modal-form__about-textarea":"ProfileEdit_modal-form__about-textarea__Q0iyo","modal-form__about-text":"ProfileEdit_modal-form__about-text__bZnt0","modal-form__about-input-container":"ProfileEdit_modal-form__about-input-container__k9bXt","modal-form__container":"ProfileEdit_modal-form__container__F_vEB","modal-form__input-limit-container":"ProfileEdit_modal-form__input-limit-container__9cye9","modal-form__input-limit-text-container":"ProfileEdit_modal-form__input-limit-text-container__BsDB1","upload-btn-con":"ProfileEdit_upload-btn-con__U7zLy"}},18056:function(e){e.exports={"loading-container":"ProfileInfo_loading-container__c1gXg","profile-info":"ProfileInfo_profile-info__DP5yE","profile-info__photo":"ProfileInfo_profile-info__photo__sVkad","profile-info__icon":"ProfileInfo_profile-info__icon__aeQZo","profile-info__username":"ProfileInfo_profile-info__username__cvitN","profile-info__followers":"ProfileInfo_profile-info__followers__3yOen","profile-info__follow-btn":"ProfileInfo_profile-info__follow-btn___8sso","profile-info__about":"ProfileInfo_profile-info__about__a7MJI"}},19210:function(e){e.exports={"follow-btn":"FollowBtn_follow-btn__VkR8e","follow-btn__btn":"FollowBtn_follow-btn__btn__SMoAp","unfollow-btn":"FollowBtn_unfollow-btn__PnfJ_","unfollow-btn__btn":"FollowBtn_unfollow-btn__btn__tUefl"}},93400:function(e){e.exports={profile:"ProfilePic_profile__AE9gg",profile__tile:"ProfilePic_profile__tile__1_llt",profile__image:"ProfilePic_profile__image__cbj1Z"}},78195:function(e){e.exports={about:"About_about___ulOF",about__text:"About_about__text__cwfAb"}},20528:function(e){e.exports={followers:"Followers_followers__9mwoj",followers__text:"Followers_followers__text__v5m5e"}},36795:function(e){e.exports={username__text:"Username_username__text__6Ngn4"}},34009:function(e){e.exports={"profile-thumbnail":"ProfileThumbnail_profile-thumbnail__p1FkE","profile-thumbnail__top":"ProfileThumbnail_profile-thumbnail__top__TFpvd","profile-thumbnail__meta-data":"ProfileThumbnail_profile-thumbnail__meta-data__TdW9a","profile-thumbnail__mid":"ProfileThumbnail_profile-thumbnail__mid__WWyIt","profile-thumbnail__bot":"ProfileThumbnail_profile-thumbnail__bot___fBKl","profile-thumbnail__meta":"ProfileThumbnail_profile-thumbnail__meta__Xyy21","profile-thumbnail__title":"ProfileThumbnail_profile-thumbnail__title__JF5jS","profile-thumbnail__author":"ProfileThumbnail_profile-thumbnail__author__wxsUb","profile-thumbnail__image":"ProfileThumbnail_profile-thumbnail__image__EKtSm"}},24395:function(e){e.exports={"post-title":"PostTitleLink_post-title__8fbl8","post-title__link":"PostTitleLink_post-title__link__ilG25"}},4313:function(e){e.exports={storeName:"StoreNameLink_storeName__4bCFZ",storeName__text:"StoreNameLink_storeName__text__YH_hV"}},97233:function(e){e.exports={date:"DateCreated_date__Znq5v",date__text:"DateCreated_date__text__l_QlR"}},52966:function(e){e.exports={likes:"LikesCount_likes__zj5OE",likes__text:"LikesCount_likes__text__i2b8v","likes__text-data":"LikesCount_likes__text-data__L_ead"}},6573:function(e){e.exports={views:"ViewsCount_views__aG2Ss",views__text:"ViewsCount_views__text__GpQ8J","views__text-data":"ViewsCount_views__text-data__jotx_"}},63051:function(e){e.exports={"loading-container":"ProfileTemplate_loading-container__Gaw8E","profile-main":"ProfileTemplate_profile-main__mrYs_","profile-main__section":"ProfileTemplate_profile-main__section__Ahraf","profile-main__posts":"ProfileTemplate_profile-main__posts__pozH0","profile-main__end-message":"ProfileTemplate_profile-main__end-message__tVsOu","no-posts":"ProfileTemplate_no-posts__pHIJn"}}},function(e){e.O(0,[796,355,420,774,888,179],(function(){return t=99852,e(e.s=t);var t}));var t=e.O();_N_E=t}]);