(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{14957:function(e,a,t){"use strict";var r=t(95318);a.Z=void 0;var n=r(t(64938)),s=t(85893),i=(0,n.default)((0,s.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");a.Z=i},98456:function(e,a,t){"use strict";t.d(a,{Z:function(){return S}});var r=t(63366),n=t(87462),s=t(67294),i=t(86010),c=t(94780),o=t(70917),l=t(98216),d=t(71657),h=t(11496),_=t(34867);function u(e){return(0,_.Z)("MuiCircularProgress",e)}(0,t(1588).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m=t(85893);const p=["className","color","disableShrink","size","style","thickness","value","variant"];let x,g,v,f,b=e=>e;const w=44,j=(0,o.F4)(x||(x=b`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),k=(0,o.F4)(g||(g=b`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),M=(0,h.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.variant],a[`color${(0,l.Z)(t.color)}`]]}})((({ownerState:e,theme:a})=>(0,n.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:a.transitions.create("transform")},"inherit"!==e.color&&{color:(a.vars||a).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,o.iv)(v||(v=b`
      animation: ${0} 1.4s linear infinite;
    `),j))),y=(0,h.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,a)=>a.svg})({display:"block"}),N=(0,h.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.circle,a[`circle${(0,l.Z)(t.variant)}`],t.disableShrink&&a.circleDisableShrink]}})((({ownerState:e,theme:a})=>(0,n.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:a.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,o.iv)(f||(f=b`
      animation: ${0} 1.4s ease-in-out infinite;
    `),k)));var S=s.forwardRef((function(e,a){const t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:s,color:o="primary",disableShrink:h=!1,size:_=40,style:x,thickness:g=3.6,value:v=0,variant:f="indeterminate"}=t,b=(0,r.Z)(t,p),j=(0,n.Z)({},t,{color:o,disableShrink:h,size:_,thickness:g,value:v,variant:f}),k=(e=>{const{classes:a,variant:t,color:r,disableShrink:n}=e,s={root:["root",t,`color${(0,l.Z)(r)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(t)}`,n&&"circleDisableShrink"]};return(0,c.Z)(s,u,a)})(j),S={},P={},Z={};if("determinate"===f){const e=2*Math.PI*((w-g)/2);S.strokeDasharray=e.toFixed(3),Z["aria-valuenow"]=Math.round(v),S.strokeDashoffset=`${((100-v)/100*e).toFixed(3)}px`,P.transform="rotate(-90deg)"}return(0,m.jsx)(M,(0,n.Z)({className:(0,i.Z)(k.root,s),style:(0,n.Z)({width:_,height:_},P,x),ownerState:j,ref:a,role:"progressbar"},Z,b,{children:(0,m.jsx)(y,{className:k.svg,ownerState:j,viewBox:"22 22 44 44",children:(0,m.jsx)(N,{className:k.circle,style:S,ownerState:j,cx:w,cy:w,r:(w-g)/2,fill:"none",strokeWidth:g})})}))}))},8266:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(14662)}])},14662:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return G}});var r=t(85893),n=(t(67294),t(11163)),s=t(3471),i=t(34051),c=t.n(i),o=t(9669),l=t.n(o);function d(e,a,t,r,n,s,i){try{var c=e[s](i),o=c.value}catch(l){return void t(l)}c.done?a(o):Promise.resolve(o).then(r,n)}var h=function(){var e,a=(e=c().mark((function e(a){var t,r,n,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.queryKey,r=a.pageParam,n=void 0===r?0:r,e.next=6;break;case 4:return s=e.sent,e.abrupt("return",s.data.data);case 6:return e.next=8,l().get("https://api.productaffair.com/api/search?query=".concat(t[1],"&page=").concat(n),{withCredentials:!0});case 8:return i=e.sent,e.abrupt("return",i.data.data);case 10:case"end":return e.stop()}}),e)})),function(){var a=this,t=arguments;return new Promise((function(r,n){var s=e.apply(a,t);function i(e){d(s,r,n,i,c,"next",e)}function c(e){d(s,r,n,i,c,"throw",e)}i(void 0)}))});return function(e){return a.apply(this,arguments)}}(),_=t(58533),u=t(14957),m=t(96376),p=t.n(m),x=function(){return(0,r.jsx)("div",{className:p().star,children:(0,r.jsx)(u.Z,{className:p().star__icon,sx:{fontSize:"0.9rem"}})})},g=t(48091),v=t.n(g),f=function(e){var a=e.postTitle;return(0,r.jsx)("div",{className:v()["post-title"],children:(0,r.jsx)("p",{className:v()["post-title__link"],children:a})})},b=t(27484),w=t.n(b),j=t(70178),k=t.n(j),M=t(29387),y=t.n(M),N=t(10285),S=t.n(N),P=t(25496),Z=t.n(P),C=function(e){var a=e.dateCreated;w().extend(k()),w().extend(y()),w().extend(S());var t=w().tz.guess(),n=w()(a).tz(t).format("MMM DD, YYYY");return(0,r.jsx)("div",{className:Z().date,children:(0,r.jsx)("span",{className:Z().date__text,children:n})})},T=t(61017),F=t.n(T),D=function(e){var a,t=e.likesCount,n=Number(t),s=(a=n,Math.abs(a)<1e3?Math.sign(a)*a:Math.abs(a)>999&&Math.abs(a)<1e6?Math.sign(a)*Math.round(Math.abs(a)/1e3)+"K":Math.abs(a)>999999&&Math.abs(a)<1e9?Math.sign(a)*Math.round(Math.abs(a)/1e6)+"M":Math.abs(a)>999999999&&Math.abs(a)<1e12?Math.sign(a)*Math.round(Math.abs(a)/1e9)+"B":Math.sign(a)*Math.round(Math.abs(a)/1e12)+"T");return(0,r.jsx)("div",{className:F().likes,children:(0,r.jsxs)("span",{className:F().likes__text,children:[s," Likes"]})})},L=t(99381),R=t.n(L),I=function(e){var a=e.overallRating,t=parseFloat(a).toFixed(1);return(0,r.jsx)("div",{className:R().rating,children:(0,r.jsx)("span",{className:R().rating__text,children:t})})},Y=t(18522),q=t.n(Y),z=function(e){var a,t=e.viewsCount,n=Number(t),s=(a=n,Math.abs(a)<1e3?Math.sign(a)*a:Math.abs(a)>9999&&Math.abs(a)<1e6?Math.sign(a)*Math.round(Math.abs(a)/1e3)+"K":Math.abs(a)>999999&&Math.abs(a)<1e9?Math.sign(a)*Math.round(Math.abs(a)/1e6)+"M":Math.abs(a)>999999999&&Math.abs(a)<1e12?Math.sign(a)*Math.round(Math.abs(a)/1e9)+"B":Math.sign(a)*Math.round(Math.abs(a)/1e12)+"T");return(0,r.jsx)("div",{className:q().views,children:(0,r.jsxs)("span",{className:q().views__text,children:[s," Views"]})})},$=t(25534),E=t.n($),A=function(e){var a=e.values;return(0,r.jsx)("div",{className:E()["search-card"],children:(0,r.jsxs)("a",{className:E()["search-card__link"],href:"https://www.productaffair.com/post/".concat(a.id),children:[(0,r.jsx)("div",{className:E()["search-card__left"],children:(0,r.jsx)("img",{src:a.images[0],className:E()["search-card__image"],width:500,height:500,alt:a.title})}),(0,r.jsxs)("div",{className:E()["search-card__right"],children:[(0,r.jsxs)("div",{className:E()["search-card__meta-data"],children:[(0,r.jsx)(D,{likesCount:a.likes_count}),(0,r.jsx)(z,{viewsCount:a.views_count}),(0,r.jsx)(C,{dateCreated:a.date_created})]}),(0,r.jsx)("div",{className:E()["search-card__title"],children:(0,r.jsx)(f,{postTitle:a.title})}),(0,r.jsxs)("div",{className:E()["search-card__rating"],children:[(0,r.jsx)(x,{}),(0,r.jsx)(I,{overallRating:a.overall_rating})]})]})]})})},K=t(55418),V=t.n(K),W=t(98456),B=t(9008),J=t.n(B),O=t(4298),U=t.n(O),X=function(){var e=(0,n.useRouter)(),a=e.query.query,t=(0,s.useInfiniteQuery)({queryKey:["getSearch",a],queryFn:h,getNextPageParam:function(e,a){if(e)return a.length}}),i=t.data,c=(t.error,t.fetchNextPage),o=t.hasNextPage,l=(t.isFetching,t.isFetchingNextPage,t.status);return"error"===l&&e.push("/404"),"loading"===l?(0,r.jsx)("div",{className:V()["loading-container"],children:(0,r.jsx)(W.Z,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(J(),{children:[(0,r.jsxs)("title",{children:["Product Results - ",a]}),(0,r.jsx)("meta",{name:"robots",content:"noindex, follow"}),(0,r.jsx)("meta",{content:"width=device-width,maximum-scale=1.0,initial-scale=1.0,minimum-scale=0.9,user-scalable=no",name:"viewport"}),(0,r.jsx)("meta",{property:"description",name:"description",content:"Discover the best products on the market. Share your product experiences, upload images and make a review.","data-app":"true"}),(0,r.jsx)("meta",{property:"og:description",name:"og:description",content:"Discover the best products on the market. Share your product experiences, upload images and make a review.","data-app":"true"}),(0,r.jsx)("meta",{property:"og:type",name:"og:type",content:"website","data-app":"true"}),(0,r.jsx)("meta",{name:"google",content:"notranslate"}),(0,r.jsx)("meta",{name:"application-name",content:"Productaffair"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Productaffair"}),(0,r.jsx)("meta",{property:"og:url",content:"https://wwww.productaffair.com"}),(0,r.jsx)("meta",{property:"og:locale",content:"en_US"})]}),(0,r.jsx)(U(),{src:"https://www.googletagmanager.com/gtag/js?id=G-2FJZ116LFW",strategy:"afterInteractive"}),(0,r.jsx)(U(),{id:"google-analytics",strategy:"afterInteractive",children:"window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'G-2FJZ116LFW');"})]}),(0,r.jsx)("main",{className:V()["search-main"],children:(0,r.jsx)(_.Z,{className:V()["search-main__section"],dataLength:null===i||void 0===i?void 0:i.pages.length,next:function(){return c()},hasMore:o,loader:(0,r.jsx)(r.Fragment,{}),endMessage:(0,r.jsx)("p",{style:{textAlign:"center"},children:(0,r.jsx)("b",{children:"Yay! You have seen it all"})}),children:"No posts are available"===i.pages[0]?(0,r.jsx)("div",{children:"No Posts are available"}):null===i||void 0===i?void 0:i.pages.map((function(e,a){return null===e||void 0===e?void 0:e.map((function(e,a){return(0,r.jsx)(A,{values:e},e.id)}))}))})})]})},G=function(){return(0,r.jsx)(X,{})}},25534:function(e){e.exports={"search-card":"SearchThumbnail_search-card___YybA","search-card__link":"SearchThumbnail_search-card__link__NXg97","search-card__left":"SearchThumbnail_search-card__left__N49Qh","search-card__right":"SearchThumbnail_search-card__right__3v8mT","search-card__image":"SearchThumbnail_search-card__image__2l75r","search-card__meta-data":"SearchThumbnail_search-card__meta-data__8nTi0","search-card__title":"SearchThumbnail_search-card__title__69FVs","search-card__con-label":"SearchThumbnail_search-card__con-label__DwcU4","search-card__text":"SearchThumbnail_search-card__text__etKo3","search-card__rating":"SearchThumbnail_search-card__rating__gO5tY"}},96376:function(e){e.exports={star:"StarIcon_star__C09As",star__icon:"StarIcon_star__icon__NEAjm"}},48091:function(e){e.exports={"post-title":"PostTitleLink_post-title__mo_MR","post-title__link":"PostTitleLink_post-title__link__ZLit9"}},25496:function(e){e.exports={date:"DateCreated_date__q0k_x",date__text:"DateCreated_date__text__gW7ic"}},61017:function(e){e.exports={likes:"LikesCount_likes__IV58S",likes__text:"LikesCount_likes__text__FxJ7p"}},99381:function(e){e.exports={rating:"PostRating_rating__rCvhr",rating__text:"PostRating_rating__text__436ge"}},18522:function(e){e.exports={views:"ViewsCount_views__UPxoH",views__text:"ViewsCount_views__text___rCIm"}},55418:function(e){e.exports={"loading-container":"SearchTemplate_loading-container__H9wgk","search-main":"SearchTemplate_search-main__mA08Y","search-main__section":"SearchTemplate_search-main__section___Pu_a"}},9008:function(e,a,t){e.exports=t(83121)},4298:function(e,a,t){e.exports=t(63573)}},function(e){e.O(0,[355,774,888,179],(function(){return a=8266,e(e.s=a);var a}));var a=e.O();_N_E=a}]);