(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{15568:function(e,n,t){"use strict";t.d(n,{Z:function(){return O}});var r=t(63366),o=t(87462),a=t(67294),i=t(86010),s=t(94780),l=t(41796),c=t(11496),d=t(71657),u=t(98216),p=t(55113),g=t(34867),m=t(1588);function f(e){return(0,g.Z)("MuiAlert",e)}var h=(0,m.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),v=t(47739);function x(e){return(0,g.Z)("MuiIconButton",e)}var _=(0,m.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),b=t(85893);const j=["edge","children","className","color","disabled","disableFocusRipple","size"],y=(0,c.ZP)(v.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,"default"!==t.color&&n[`color${(0,u.Z)(t.color)}`],t.edge&&n[`edge${(0,u.Z)(t.edge)}`],n[`size${(0,u.Z)(t.size)}`]]}})((({theme:e,ownerState:n})=>(0,o.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.active} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})),(({theme:e,ownerState:n})=>(0,o.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,o.Z)({color:(e.vars||e).palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[n.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${_.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})));var w,Z=a.forwardRef((function(e,n){const t=(0,d.Z)({props:e,name:"MuiIconButton"}),{edge:a=!1,children:l,className:c,color:p="default",disabled:g=!1,disableFocusRipple:m=!1,size:f="medium"}=t,h=(0,r.Z)(t,j),v=(0,o.Z)({},t,{edge:a,color:p,disabled:g,disableFocusRipple:m,size:f}),_=(e=>{const{classes:n,disabled:t,color:r,edge:o,size:a}=e,i={root:["root",t&&"disabled","default"!==r&&`color${(0,u.Z)(r)}`,o&&`edge${(0,u.Z)(o)}`,`size${(0,u.Z)(a)}`]};return(0,s.Z)(i,x,n)})(v);return(0,b.jsx)(y,(0,o.Z)({className:(0,i.Z)(_.root,c),centerRipple:!0,focusRipple:!m,disabled:g,ref:n,ownerState:v},h,{children:l}))})),z=t(32696),L=(0,z.Z)((0,b.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),S=(0,z.Z)((0,b.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C=(0,z.Z)((0,b.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),N=(0,z.Z)((0,b.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),R=(0,z.Z)((0,b.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const k=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],M=(0,c.ZP)(p.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[t.variant],n[`${t.variant}${(0,u.Z)(t.color||t.severity)}`]]}})((({theme:e,ownerState:n})=>{const t="light"===e.palette.mode?l._j:l.$n,r="light"===e.palette.mode?l.$n:l._j,a=n.color||n.severity;return(0,o.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&{color:t(e.palette[a].light,.6),backgroundColor:r(e.palette[a].light,.9),[`& .${h.icon}`]:{color:"dark"===e.palette.mode?e.palette[a].main:e.palette[a].light}},a&&"outlined"===n.variant&&{color:t(e.palette[a].light,.6),border:`1px solid ${e.palette[a].light}`,[`& .${h.icon}`]:{color:"dark"===e.palette.mode?e.palette[a].main:e.palette[a].light}},a&&"filled"===n.variant&&{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:"dark"===e.palette.mode?e.palette[a].dark:e.palette[a].main})})),$=(0,c.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,n)=>n.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),A=(0,c.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,n)=>n.message})({padding:"8px 0"}),I=(0,c.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,n)=>n.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),F={success:(0,b.jsx)(L,{fontSize:"inherit"}),warning:(0,b.jsx)(S,{fontSize:"inherit"}),error:(0,b.jsx)(C,{fontSize:"inherit"}),info:(0,b.jsx)(N,{fontSize:"inherit"})};var O=a.forwardRef((function(e,n){const t=(0,d.Z)({props:e,name:"MuiAlert"}),{action:a,children:l,className:c,closeText:p="Close",color:g,icon:m,iconMapping:h=F,onClose:v,role:x="alert",severity:_="success",variant:j="standard"}=t,y=(0,r.Z)(t,k),z=(0,o.Z)({},t,{color:g,severity:_,variant:j}),L=(e=>{const{variant:n,color:t,severity:r,classes:o}=e,a={root:["root",`${n}${(0,u.Z)(t||r)}`,`${n}`],icon:["icon"],message:["message"],action:["action"]};return(0,s.Z)(a,f,o)})(z);return(0,b.jsxs)(M,(0,o.Z)({role:x,elevation:0,ownerState:z,className:(0,i.Z)(L.root,c),ref:n},y,{children:[!1!==m?(0,b.jsx)($,{ownerState:z,className:L.icon,children:m||h[_]||F[_]}):null,(0,b.jsx)(A,{ownerState:z,className:L.message,children:l}),null!=a?(0,b.jsx)(I,{ownerState:z,className:L.action,children:a}):null,null==a&&v?(0,b.jsx)(I,{ownerState:z,className:L.action,children:(0,b.jsx)(Z,{size:"small","aria-label":p,title:p,color:"inherit",onClick:v,children:w||(w=(0,b.jsx)(R,{fontSize:"small"}))})}):null]}))}))},83236:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(82236)}])},82236:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var r=t(85893),o=t(67294),a=t(76673),i=t.n(a),s=t(79928),l=t.n(s),c=t(74231),d=t(95496),u=t(87536),p=t(15568),g=t(83321),m=t(22881),f=t.n(m),h=t(31812),v=function(e){var n=e.isLoading;return(0,r.jsx)("div",{className:f()["login-con"],children:(0,r.jsx)("div",{className:f()["login-btn-con"],children:n?(0,r.jsx)(h.Z,{loading:!0,type:"submit",variant:"contained",size:"large",sx:{fontSize:"typography.fontSize",backgroundColor:"var(--blue)",color:"var(--white)"},children:"LOGIN"}):(0,r.jsx)(g.Z,{type:"submit",variant:"contained",size:"large",sx:{fontSize:"typography.fontSize",backgroundColor:"var(--blue)",color:"var(--white)"},children:"LOGIN"})})})},x=t(11163),_=t(26811),b=t.n(_),j=t(3471),y=t(34051),w=t.n(y),Z=t(9669),z=t.n(Z);function L(e,n,t,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function S(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){L(a,r,o,i,s,"next",e)}function s(e){L(a,r,o,i,s,"throw",e)}i(void 0)}))}}var C=function(){var e=S(w().mark((function e(){var n,t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=5;break;case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:return e.next=7,z().get("https://api.productaffair.com/api/login",{withCredentials:!0});case 7:return t=e.sent,e.abrupt("return",t.data.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=S(w().mark((function e(n){var t,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=5;break;case 3:return t=e.sent,e.abrupt("return",t.data.data);case 5:return e.next=7,z().post("https://api.productaffair.com/api/login",n,{withCredentials:!0});case 7:return r=e.sent,e.abrupt("return",r.data.data);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),R=t(94059),k=t.n(R);function M(e,n,t,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}var $=function(){var e=(0,x.useRouter)(),n=function(){var n,t=(n=w().mark((function n(){return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.push("/register");case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){M(a,r,o,i,s,"next",e)}function s(e){M(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,r.jsx)("div",{className:k()["register-con"],children:(0,r.jsx)(g.Z,{variant:"outlined",sx:{width:"100%",border:"2px solid",color:"var(--blue)"},type:"button",onClick:n,children:"Register"})})};function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){A(e,n,t[n])}))}return e}var F=c.Ry().shape({username:c.Z_().matches(/^(?=.{1,100}$)(?:[0-9a-zA-Zd]+(?:[_][0-9a-zA-Zd])*)+$/,"Invalid").min(1).max(100).required().defined(),password:c.Z_().matches(/(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*#?&^>;:~)(}{|'`+=<_-]).{8,64}$/,"Invalid").min(8).max(64).required("Invalid").defined()}).defined(),O=function(){var e=(0,x.useRouter)(),n=(0,j.useQueryClient)(),t=(0,j.useMutation)({mutationFn:function(e){return N(e)},onSuccess:function(){n.invalidateQueries({queryKey:["auth"]})},onError:function(){_(!0)}}),a=t.mutate,i=t.data,s=(t.reset,t.isLoading),l=(t.isError,t.isSuccess),c=(0,u.cI)({resolver:(0,d.X)(F)}),g=c.register,m=c.handleSubmit;c.clearErrors,c.formState.errors;l&&(!0===i.verified&&"local"===i.type&&e.push("/"),e.push("/login"));var f=(0,o.useState)(!1),h=f[0],_=f[1],y=m((function(e){a(e)}),(function(e){_(!0)}));return(0,r.jsxs)("form",{className:b()["login-input-form"],onSubmit:y,autoComplete:"off",role:"presentation",children:[(0,r.jsxs)("div",{className:b()["login-input-con"],children:[(0,r.jsx)("div",{className:b()["username-con"],children:(0,r.jsx)("input",I({className:b()["username-input"],type:"text"},g("username"),{autoComplete:"off",role:"presentation",placeholder:"Username"}))}),(0,r.jsx)("div",{className:b()["password-con"],children:(0,r.jsx)("input",I({className:b()["password-input"],type:"password"},g("password"),{autoComplete:"off",role:"presentation",placeholder:"Password"}))})]}),(0,r.jsx)("div",{className:b()["error-con"],children:h&&(0,r.jsx)(p.Z,{severity:"error",children:(0,r.jsx)("strong",{children:"Invalid username or password"})})}),(0,r.jsxs)("div",{className:b()["btn-con"],children:[s?(0,r.jsx)(v,{isLoading:s}):(0,r.jsx)(v,{}),(0,r.jsx)($,{})]})]})},P=t(61705),E=t.n(P),T=function(){return(0,r.jsx)("div",{className:E()["login-title-con"],children:(0,r.jsx)("span",{className:E()["login-title-text"],children:"Login"})})},B=function(){return(0,r.jsxs)("div",{className:l()["login-con"],children:[(0,r.jsx)(T,{}),(0,r.jsx)(O,{})]})},W=t(98456),q=t(9008),Q=t.n(q),X=t(4298),D=t.n(X),G=function(){var e,n=(0,x.useRouter)(),t=(0,j.useQuery)(["getLogin"],C),o=t.data,a=t.isLoading,s=t.isError,l=null===o||void 0===o||null===(e=o.auth)||void 0===e?void 0:e.verified;return a?(0,r.jsx)("div",{className:i()["loading-container"],children:(0,r.jsx)(W.Z,{})}):(s&&n.push("/404"),l&&n.push("/"),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Q(),{children:[(0,r.jsx)("meta",{name:"description",content:""}),(0,r.jsx)("meta",{content:"width=device-width,maximum-scale=1.0,initial-scale=1.0,minimum-scale=0.9,user-scalable=no",name:"viewport"}),(0,r.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,r.jsx)("meta",{name:"google",content:"notranslate"}),(0,r.jsx)("meta",{name:"application-name",content:"Productaffair"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Productaffair"}),(0,r.jsx)("meta",{property:"og:locale",content:"en_US"})]}),(0,r.jsx)(D(),{src:"https://www.googletagmanager.com/gtag/js?id=G-2FJZ116LFW",strategy:"afterInteractive"}),(0,r.jsx)(D(),{id:"google-analytics",strategy:"afterInteractive",children:"window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'G-2FJZ116LFW');"})]}),(0,r.jsx)("main",{className:i()["login-main"],children:(0,r.jsx)(B,{})})]}))},H=function(){return(0,r.jsx)(G,{})}},79928:function(e){e.exports={"login-con":"LoginForm_login-con__aqesd"}},22881:function(e){e.exports={"login-con":"LoginBtn_login-con__IsW2m","login-btn-con":"LoginBtn_login-btn-con__yyTeg","google-login-con":"LoginBtn_google-login-con__DmUfI"}},94059:function(e){e.exports={"register-con":"RegisterBtn_register-con__ozQU5"}},26811:function(e){e.exports={"btn-con":"LoginField_btn-con__F6XDj","username-input":"LoginField_username-input__TXIOa","password-input":"LoginField_password-input__8YD7C","username-con":"LoginField_username-con__ptEBu","password-con":"LoginField_password-con__kaYBA","login-input-con":"LoginField_login-input-con__qKkQ9","error-con":"LoginField_error-con__2ETaa"}},61705:function(e){e.exports={"login-title-text":"LoginTitle_login-title-text__Qnz0B","login-title-con":"LoginTitle_login-title-con__ZB_dG"}},76673:function(e){e.exports={"loading-container":"LoginTemplate_loading-container__cuE6R","login-main":"LoginTemplate_login-main__BghX_"}}},function(e){e.O(0,[796,774,888,179],(function(){return n=83236,e(e.s=n);var n}));var n=e.O();_N_E=n}]);