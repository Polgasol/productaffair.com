(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{54722:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return t(97986)}])},97986:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Q}});var n=t(85893),i=t(67294),a=t(90736),s=t.n(a),o=t(66419),c=t.n(o),l=function(){return(0,n.jsx)("div",{className:c()["register-title-con"],children:(0,n.jsx)("span",{className:c()["register-title-text"],children:"Register"})})},u=t(11163),d=t(87536),m=t(74231),p=t(95496),g=t(15568),f=t(4215),h=t(31812),_=t(83321),v=t(34302),x=t.n(v),j=function(e){var r=e.status;return(0,n.jsx)("div",{className:x()["register-btn-con"],children:r?(0,n.jsx)(h.Z,{loading:!0,variant:"contained",size:"large",sx:{fontSize:"typography.fontSize"},children:"Continue"}):(0,n.jsx)(_.Z,{type:"submit",variant:"contained",size:"large",sx:{fontSize:"typography.fontSize"},children:"Continue"})})},y=t(26975),w=t.n(y),b=t(34051),N=t.n(b),F=t(9669),R=t.n(F);function P(e,r,t,n,i,a,s){try{var o=e[a](s),c=o.value}catch(l){return void t(l)}o.done?r(c):Promise.resolve(c).then(n,i)}function Z(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function s(e){P(a,n,i,s,o,"next",e)}function o(e){P(a,n,i,s,o,"throw",e)}s(void 0)}))}}var E=function(){var e=Z(N().mark((function e(){var r,t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=5;break;case 3:return r=e.sent,e.abrupt("return",r.data.data);case 5:return e.next=7,R().get("https://api.productaffair.com/api/register",{withCredentials:!0});case 7:return t=e.sent,e.abrupt("return",t.data.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Z(N().mark((function e(r){var t,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=5;break;case 3:return t=e.sent,e.abrupt("return",t.data.data);case 5:return e.next=7,R().post("https://api.productaffair.com/api/register",r,{withCredentials:!0});case 7:return n=e.sent,e.abrupt("return",n.data.data);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),O=t(3471);function q(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){q(e,r,t[r])}))}return e}var S=m.Ry().shape({firstname:m.Z_().matches(/(?=^.{1,100}$)[^s][a-zA-Zs]+[^s]$/,"Firstname is invalid").min(1,"Firstname is required").max(100,"You have reached maximum number of characters").required("Firstname is invalid"),lastname:m.Z_().matches(/(?=^.{1,100}$)[^s][a-zA-Zs]+[^s]$/,"Lastname is invalid").min(1,"Lastname is required").max(100,"You have reached maximum number of characters").required("Lastname is invalid"),age:m.Rx().positive().integer().min(13,"Age is required and must be 13 or older").max(150,"Invalid age").required("Age is required").typeError("Age is invalid"),email:m.Z_().matches(/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,500})$/,"Email is invalid").email().min(3,"Email is required").max(500,"You have reached maximum number of characters").required("Email is required"),username:m.Z_().matches(/^(?=.{1,100}$)(?:[0-9a-zA-Zd]+(?:[_][0-9a-zA-Zd])*)+$/,"Username is invalid").min(1,"Username is required").max(120,"You have reached maximum number of characters").required("Username is required"),createPassword:m.Z_().matches(/(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*#?&^>;:~)(}{|'`+=<_-]).{8,64}$/,"Password No spaces allowed, Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character").min(8,"Password is required").max(64,"You have reached maximum number of characters").required("Password No spaces allowed, Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character").typeError("Password No spaces allowed, Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"),confirmPassword:m.Z_().oneOf([m.iH("createPassword"),null]).required("Confirm password is required").typeError("Password not match")}).defined(),L=function(){var e,r,t,a,s,o,c,l=(0,u.useRouter)(),m=(0,O.useQueryClient)(),h=(0,O.useMutation)({mutationFn:function(e){return C(e)},onSuccess:function(e){!1===e.verified&&"local"===e.type&&(l.push("/verify"),m.invalidateQueries({queryKey:["auth"]})),l.push("/")},onError:function(){R(!0)}}),_=h.mutate,v=(h.data,h.reset,h.isLoading),x=(h.isError,(0,d.cI)({resolver:(0,p.X)(S)})),y=x.register,b=x.handleSubmit,N=(x.clearErrors,x.formState.errors),F=(0,i.useState)(!1),R=(F[0],F[1]),P=b((function(e){_(e)}),(function(e){return console.log(e)}));return(0,n.jsxs)("form",{className:w()["register-input-form"],onSubmit:P,role:"presentation",autoComplete:"off",children:[(0,n.jsxs)("div",{className:w()["name-con"],children:[(0,n.jsx)("div",{className:w()["first-input-con"],children:(0,n.jsx)("input",z({className:w()["firstname-input"],type:"text"},y("firstname"),{autoComplete:"off",role:"presentation",placeholder:"Firstname"}))}),(0,n.jsx)("div",{className:w()["last-input-con"],children:(0,n.jsx)("input",z({className:w()["lastname-input"],type:"text"},y("lastname"),{role:"presentation",autoComplete:"off",placeholder:"Lastname"}))})]}),(0,n.jsxs)("div",{className:w()["register-input-fields"],children:[(0,n.jsx)("div",{className:w()["email-con"],children:(0,n.jsx)("div",{className:w()["email-input-con"],children:(0,n.jsx)("input",z({className:w()["email-input"],type:"text"},y("email"),{autoComplete:"off",role:"presentation",placeholder:"Email"}))})}),(0,n.jsxs)("div",{className:w()["age-username-con"],children:[(0,n.jsx)("div",{className:w()["username-con"],children:(0,n.jsx)("div",{className:w()["username-input-con"],children:(0,n.jsx)("input",z({className:w()["username-input"],type:"text"},y("username"),{autoComplete:"off",role:"presentation",placeholder:"Username"}))})}),(0,n.jsx)("div",{className:w()["age-con"],children:(0,n.jsx)("div",{className:w()["age-input-con"],children:(0,n.jsx)("input",z({className:w()["age-input"],type:"text"},y("age"),{autoComplete:"off",role:"presentation",placeholder:"Age"}))})})]}),(0,n.jsx)("div",{className:w()["createpass-con"],children:(0,n.jsx)("div",{className:w()["createpass-input-con"],children:(0,n.jsx)("input",z({className:w()["createpass-input"],type:"password"},y("createPassword"),{autoComplete:"off",role:"presentation",placeholder:"Create Password"}))})}),(0,n.jsxs)("div",{className:w()["confirmpass-con"],children:[(0,n.jsx)("div",{className:w()["confirmpass-input-con"],children:(0,n.jsx)("input",z({className:w()["confirmpass-input"],type:"password"},y("confirmPassword"),{autoComplete:"off",role:"presentation",placeholder:"Confirm Password"}))}),(0,n.jsx)("div",{className:w()["submit-con"],children:(0,n.jsx)(j,{status:v})})]}),(0,n.jsx)("div",{className:w()["error-con"],children:(null===N||void 0===N?void 0:N.firstname)?(0,n.jsx)(g.Z,{severity:"error",children:(0,n.jsx)(f.Z,{children:null===(e=N.firstname)||void 0===e?void 0:e.message})}):(null===N||void 0===N?void 0:N.lastname)?(0,n.jsx)(g.Z,{severity:"error",children:(0,n.jsx)(f.Z,{children:null===(r=N.lastname)||void 0===r?void 0:r.message})}):N.email?(0,n.jsx)(g.Z,{severity:"error",children:(0,n.jsx)(f.Z,{children:null===(t=N.email)||void 0===t?void 0:t.message})}):N.username?(0,n.jsx)(g.Z,{severity:"error",children:(0,n.jsx)(f.Z,{children:null===(a=N.username)||void 0===a?void 0:a.message})}):N.age?(0,n.jsx)(g.Z,{severity:"error",children:(0,n.jsx)(f.Z,{children:null===(s=N.age)||void 0===s?void 0:s.message})}):N.createPassword?(0,n.jsx)(g.Z,{severity:"error",children:(0,n.jsx)(f.Z,{children:null===(o=N.createPassword)||void 0===o?void 0:o.message})}):N.firstname?(0,n.jsx)(g.Z,{severity:"error",children:(0,n.jsx)(f.Z,{children:null===(c=N.password)||void 0===c?void 0:c.message})}):(0,n.jsx)(n.Fragment,{})})]})]})},k=function(){return(0,n.jsxs)("div",{className:s()["register-con"],children:[(0,n.jsx)(l,{}),(0,n.jsx)(L,{})]})},A=t(78280),I=t.n(A),$=t(98456),T=t(9008),U=t.n(T),Y=t(4298),K=t.n(Y);function D(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function M(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){D(e,r,t[r])}))}return e}var J=function(e){var r,t=e.checkSession,i=(0,u.useRouter)(),a=(0,O.useQuery)(["getRegister"],E),s=a.data,o=a.isLoading,c=a.isError,l=null===s||void 0===s||null===(r=s.auth)||void 0===r?void 0:r.verified;return o?(0,n.jsx)("div",{className:I()["loading-container"],children:(0,n.jsx)($.Z,{})}):(c&&i.push("/404"),l&&i.push("/"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(U(),{children:[(0,n.jsx)("meta",{name:"description",content:""}),(0,n.jsx)("meta",{content:"width=device-width,maximum-scale=1.0,initial-scale=1.0,minimum-scale=0.9,user-scalable=no",name:"viewport"}),(0,n.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,n.jsx)("meta",{name:"google",content:"notranslate"}),(0,n.jsx)("meta",{name:"application-name",content:"Productaffair"}),(0,n.jsx)("meta",{property:"og:site_name",content:"Productaffair"}),(0,n.jsx)("meta",{property:"og:locale",content:"en_US"})]}),(0,n.jsx)(K(),{src:"https://www.googletagmanager.com/gtag/js?id=G-2FJZ116LFW",strategy:"afterInteractive"}),(0,n.jsx)(K(),{id:"google-analytics",strategy:"afterInteractive",children:"window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'G-2FJZ116LFW');"})]}),(0,n.jsx)("main",{className:I()["register-main"],children:(0,n.jsx)(k,M({},t))})]}))},Q=function(){return(0,n.jsx)(J,{})}},90736:function(e){e.exports={"register-con":"RegisterForm_register-con__uj35J"}},34302:function(){},26975:function(e){e.exports={"error-list":"RegisterField_error-list__m_ImK","submit-con":"RegisterField_submit-con__nWp33","first-input-con":"RegisterField_first-input-con__5CIv0","register-input-form":"RegisterField_register-input-form__llXbL","age-username-con":"RegisterField_age-username-con__EH_59","name-con":"RegisterField_name-con__lPMul","register-input-fields":"RegisterField_register-input-fields__pKgDd","email-input-con":"RegisterField_email-input-con__NACNs","email-input":"RegisterField_email-input__5_1Ou",hello:"RegisterField_hello__JI_KN","firstname-input":"RegisterField_firstname-input__7b5O8","lastname-input":"RegisterField_lastname-input__zU_jK","age-input":"RegisterField_age-input__geb3g","username-input":"RegisterField_username-input__Y1R3P","createpass-input":"RegisterField_createpass-input__n5Qpj","confirmpass-input":"RegisterField_confirmpass-input__LU8E5","last-input-con":"RegisterField_last-input-con__lz2_B","gender-con":"RegisterField_gender-con__rgyFa","age-con":"RegisterField_age-con__U2PpY","age-input-con":"RegisterField_age-input-con__A9ECD","email-con":"RegisterField_email-con__RfI63","username-con":"RegisterField_username-con__1fE6h","createpass-con":"RegisterField_createpass-con__1IiT_","confirmpass-con":"RegisterField_confirmpass-con__PNwy7","error-con":"RegisterField_error-con__cqcqE"}},66419:function(e){e.exports={"register-title-con":"RegisterTitle_register-title-con__T5rWm","register-title-text":"RegisterTitle_register-title-text___Kfy6"}},78280:function(e){e.exports={"loading-container":"RegisterTemplate_loading-container__0fgxZ","register-main":"RegisterTemplate_register-main__ybPzm"}}},function(e){e.O(0,[796,611,774,888,179],(function(){return r=54722,e(e.s=r);var r}));var r=e.O();_N_E=r}]);